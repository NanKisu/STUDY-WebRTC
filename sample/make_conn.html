<html>
    <head>
        
    </head>
    <body>
        <script>
            var conn1 = new RTCPeerConnection()
            var ch2 = conn1.createDataChannel('ch2')
            var conn2 = new RTCPeerConnection()
            ch2.onopen = function(e){
                console.log(e)
            }
            
            conn1.createOffer()
            .then(offer => conn1.setLocalDescription(offer))
            .then(() => conn2.setRemoteDescription(conn1.localDescription))
            .then(() => conn2.createAnswer())
            .then(ans => conn2.setLocalDescription(answer))
            .then(() => conn1.setRemoteDescription(conn2.localDescription))
            .then(() => {
                console.log("end")
            })
            
        </script>
    </body>
</html>